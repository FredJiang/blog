---
title: linux 汇编 -- 程序说明
date: 2017-09-08 11:26:37
tags: [assembly, linux]
---

```
        .section .data
        .section .text
        .globl _start
_start:
        movl $1, %eax
        movl $0, %ebx
int $0x80
```

`as exit.s -o exit.o`

`ld exit.o -o exit`

`./exit`

<!--more-->

程序说明

在汇编程序中，任何以小数点(.)开始的指令都不会被直接翻译成机器指令，这些针对汇编程序本身的指令，由于是汇编程序处理，实际上并不会由计算机运行，因此被称为汇编指令或伪指令。在本程序中，`.section` 指令将程序分为几个部分。

* `.section .data`：表示数据段开始，数据段中要列出程序所需的所有内存空间。由于该程序没有使用任何数据，所以我们不需要这个段。这里保留这个指令是为了保持程序的完整性。
* `.section .text`：表示文本段开始，文本段是存放程序指令的部分。
* `.globl _start`：表示程序开始的地方。如果不这样标记这个位置，当计算机加载程序时就不知道从哪里开始运行你的程序。
* `int`：表示中断，系统调用，`0x80` 是要用到的中断好。
* 函数的返回地址：返回地址是一个看不见的参数，因为它不直接在函数中使用。返回地址这一参数告诉函数当其执行完毕后应该再从哪里开始执行。返回地址必不可少，因为程序中许多不同的部分都会调用函数进行处理，因此函数必须能够返回到调用它的地方。在大多数变成语言中，调用函数时会自动传递这个参数。而在汇编语言中，`call` 指令会为你处理返回地址，`ret` 指令则负责按照改地址返回调用函数的地方

